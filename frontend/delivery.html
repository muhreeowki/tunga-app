<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery - Tunga Restaurant</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Tunga Restaurant</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="menu.html">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="reservation.html">Reservation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="delivery.html">Delivery</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="cart.html">
                            <i class="fas fa-shopping-cart"></i> Cart
                        </a>
                    </li>
                    <li class="nav-item" id="loginNavItem">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item" id="registerNavItem">
                        <a class="nav-link" href="register.html">Register</a>
                    </li>
                    <li class="nav-item" id="profileNavItem" style="display: none;">
                        <a class="nav-link" href="profile.html">Profile</a>
                    </li>
                    <li class="nav-item" id="logoutNavItem" style="display: none;">
                        <a class="nav-link" href="#" id="logoutLink">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Delivery Form -->
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-12">
                <!-- Progress Steps -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="step active" id="step1Indicator">
                                <div class="step-number">1</div>
                                <div class="step-title">Select Items</div>
                            </div>
                            <div class="step-line"></div>
                            <div class="step" id="step2Indicator">
                                <div class="step-number">2</div>
                                <div class="step-title">Delivery Details</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 1: Menu Selection -->
                <div id="step1" class="step-content">
                    <div class="row">
                        <!-- Menu Items Column -->
                        <div class="col-md-8">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h3 class="text-center">Menu Items</h3>
                                </div>
                                <div class="card-body" style="max-height: 70vh; overflow-y: auto;">
                                    <!-- Category Tabs -->
                                    <ul class="nav nav-tabs mb-4" id="categoryTabs" role="tablist">
                                        <!-- Tabs will be dynamically populated -->
                                    </ul>

                                    <!-- Tab Content -->
                                    <div class="tab-content" id="categoryTabsContent">
                                        <div class="tab-pane fade show active" id="all" role="tabpanel">
                                            <div class="row" id="menuItems">
                                                <!-- Menu items will be dynamically populated -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Cart Section -->
                        <div class="col-md-4">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h3 class="text-center">Your Cart</h3>
                                </div>
                                <div class="card-body" style="max-height: 70vh; overflow-y: auto;">
                                    <div id="emptyCartMessage" class="text-center py-3" style="display: none;">
                                        <i class="fas fa-shopping-cart fa-2x mb-2"></i>
                                        <p>Your cart is empty</p>
                                    </div>
                                    <div id="cartItems">
                                        <!-- Cart items will be loaded dynamically -->
                                    </div>
                                    <div id="cartTotal" class="mt-3 text-end" style="display: none;">
                                        <h5>Total: $<span id="totalAmount">0.00</span></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <button id="nextToStep2" class="btn btn-primary" disabled>
                            Next: Delivery Details
                        </button>
                    </div>
                </div>

                <!-- Step 2: Delivery Details -->
                <div id="step2" class="step-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-center">Delivery Details</h3>
                        </div>
                        <div class="card-body">
                            <div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
                            <form id="deliveryForm">
                                <div class="mb-3">
                                    <label for="restaurant" class="form-label">Select Restaurant</label>
                                    <select class="form-select" id="restaurant" required>
                                        <option value="">Select a restaurant</option>
                                        <!-- Restaurants will be loaded dynamically -->
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="name" class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="address" class="form-label">Delivery Address</label>
                                    <input type="text" class="form-control" id="address" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="city" class="form-label">City</label>
                                            <input type="text" class="form-control" id="city" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="state" class="form-label">State</label>
                                            <input type="text" class="form-control" id="state" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="mb-3">
                                            <label for="zipCode" class="form-label">ZIP Code</label>
                                            <input type="text" class="form-control" id="zipCode" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Contact Phone</label>
                                    <input type="tel" class="form-control" id="phone" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="specialInstructions" class="form-label">Special Instructions</label>
                                    <textarea class="form-control" id="specialInstructions" rows="3"></textarea>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" id="backToStep1" class="btn btn-secondary">
                                        Back to Menu
                                    </button>
                                    <button type="submit" class="btn btn-primary" id="submitDelivery">
                                        <span id="loadingSpinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                                        Place Order
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>TUNGA</h5>
                    <p>Fine Dining & Home Delivery</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>Contact: +1 234 567 890</p>
                    <p>Email: info@tunga.com</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/delivery.js"></script>
</body>
</html> 